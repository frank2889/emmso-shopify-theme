.comparison-bar{position:fixed;bottom:0;left:0;right:0;background:var(--color-surface);border-top:2px solid var(--color-primary);box-shadow:var(--shadow-xl);z-index:var(--z-fab);transform:translateY(100%);transition:transform var(--duration-normal) var(--ease-in-out)}.comparison-bar.is-visible{transform:translateY(0)}.comparison-bar__content{display:flex;align-items:center;gap:var(--space-4);padding:var(--space-4) var(--space-6);max-width:var(--container-max);margin:0 auto}.comparison-bar__info{display:flex;align-items:center;gap:var(--space-2)}.comparison-bar__count{display:flex;align-items:center;justify-content:center;min-width:32px;height:32px;background:var(--color-primary);color:white;font-size:var(--text-base);font-weight:var(--weight-bold);border-radius:var(--radius-full)}.comparison-bar__text{font-size:var(--text-base);color:var(--color-text-primary)}.comparison-bar__text strong{font-weight:var(--weight-bold);color:var(--color-primary)}.comparison-bar__products{flex:1;display:flex;gap:var(--space-2);overflow-x:auto;scrollbar-width:none}.comparison-bar__products::-webkit-scrollbar{display:none}.comparison-bar__product{position:relative;flex-shrink:0;width:60px;height:60px}.comparison-bar__product-image{width:100%;height:100%;object-fit:cover;border-radius:var(--radius-md);border:2px solid var(--color-border)}.comparison-bar__product-remove{position:absolute;top:-8px;right:-8px;width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:var(--color-error);color:white;border:2px solid var(--color-surface);border-radius:var(--radius-full);cursor:pointer;font-size:var(--text-xs);font-weight:var(--weight-bold);transition:all var(--duration-fast)}.comparison-bar__product-remove:hover{background:var(--color-error-dark);transform:scale(1.1)}.comparison-bar__actions{display:flex;gap:var(--space-3)}.comparison-bar__compare-btn{padding:var(--space-3) var(--space-6);background:var(--color-primary);color:white;border:none;border-radius:var(--radius-md);font-size:var(--text-base);font-weight:var(--weight-semibold);cursor:pointer;transition:all var(--duration-fast);white-space:nowrap}.comparison-bar__compare-btn:hover{background:var(--color-primary-dark);transform:translateY(-1px);box-shadow:var(--shadow-md)}.comparison-bar__clear-btn{padding:var(--space-3) var(--space-4);background:transparent;color:var(--color-text-secondary);border:2px solid var(--color-border);border-radius:var(--radius-md);font-size:var(--text-sm);font-weight:var(--weight-medium);cursor:pointer;transition:all var(--duration-fast);white-space:nowrap}.comparison-bar__clear-btn:hover{border-color:var(--color-error);color:var(--color-error)}.comparison-modal{position:fixed;inset:0;z-index:var(--z-modal);display:flex;align-items:center;justify-content:center;padding:var(--space-4);opacity:0;pointer-events:none;transition:opacity var(--duration-normal)}.comparison-modal.is-visible{opacity:1;pointer-events:auto}.comparison-modal__overlay{position:absolute;inset:0;background:rgba(0,0,0,0.7);backdrop-filter:blur(4px)}.comparison-modal__container{position:relative;width:100%;max-width:1400px;max-height:90vh;background:var(--color-surface);border-radius:var(--radius-xl);box-shadow:var(--shadow-xl);display:flex;flex-direction:column;transform:scale(0.95);transition:transform var(--duration-normal) var(--ease-in-out)}.comparison-modal.is-visible .comparison-modal__container{transform:scale(1)}.comparison-modal__header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-6);border-bottom:1px solid var(--color-border)}.comparison-modal__title{font-size:var(--text-2xl);font-weight:var(--weight-bold);color:var(--color-text-primary)}.comparison-modal__close{width:var(--touch-target-min);height:var(--touch-target-min);display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--radius-full);cursor:pointer;color:var(--color-text-secondary);transition:all var(--duration-fast)}.comparison-modal__close:hover{background:var(--color-background);color:var(--color-text-primary)}.comparison-modal__body{flex:1;overflow:auto;padding:var(--space-6)}.comparison-table{width:100%;border-collapse:separate;border-spacing:0}.comparison-table__header{position:sticky;top:0;background:var(--color-surface);z-index:10}.comparison-table__header-row{border-bottom:2px solid var(--color-border)}.comparison-table__header-cell{padding:var(--space-4);text-align:center;vertical-align:top;min-width:200px}.comparison-table__header-cell:first-child{text-align:left;min-width:180px;max-width:180px;width:180px;font-weight:var(--weight-semibold);color:var(--color-text-secondary)}.comparison-table__product-card{text-align:center}.comparison-table__product-image{width:120px;height:120px;object-fit:cover;border-radius:var(--radius-md);margin:0 auto var(--space-3);border:2px solid var(--color-border)}.comparison-table__product-title{font-size:var(--text-base);font-weight:var(--weight-semibold);color:var(--color-text-primary);margin-bottom:var(--space-2);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;line-height:1.4}.comparison-table__product-price{font-size:var(--text-xl);font-weight:var(--weight-bold);color:var(--color-primary);margin-bottom:var(--space-3)}.comparison-table__product-remove{padding:var(--space-2) var(--space-4);background:transparent;border:2px solid var(--color-border);border-radius:var(--radius-md);cursor:pointer;font-size:var(--text-sm);color:var(--color-text-secondary);transition:all var(--duration-fast)}.comparison-table__product-remove:hover{border-color:var(--color-error);color:var(--color-error)}.comparison-table__body-row{border-bottom:1px solid var(--color-border)}.comparison-table__body-row:hover{background:var(--color-background)}.comparison-table__label-cell{padding:var(--space-4);font-size:var(--text-sm);font-weight:var(--weight-semibold);color:var(--color-text-secondary);text-align:left;background:var(--color-background)}.comparison-table__value-cell{padding:var(--space-4);font-size:var(--text-base);color:var(--color-text-primary);text-align:center;vertical-align:middle}.comparison-table__value-cell.is-best{background:var(--color-success-light);color:var(--color-success-dark);font-weight:var(--weight-semibold)}.comparison-table__value-cell.is-worst{background:var(--color-error-light);color:var(--color-error-dark)}.comparison-table__value-cell.is-empty{color:var(--color-text-muted);font-style:italic}.comparison-table__check{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;background:var(--color-success);color:white;border-radius:var(--radius-full);font-weight:var(--weight-bold)}.comparison-table__cross{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;background:var(--color-error-light);color:var(--color-error);border-radius:var(--radius-full);font-weight:var(--weight-bold)}.comparison-table__rating{display:inline-flex;gap:2px;color:var(--color-primary)}.comparison-modal__footer{padding:var(--space-6);border-top:1px solid var(--color-border);background:var(--color-background);display:flex;justify-content:flex-end;gap:var(--space-3)}.comparison-empty{text-align:center;padding:var(--space-16) var(--space-8)}.comparison-empty__icon{width:80px;height:80px;margin:0 auto var(--space-4);color:var(--color-text-muted);opacity:0.5}.comparison-empty__title{font-size:var(--text-xl);font-weight:var(--weight-bold);color:var(--color-text-primary);margin-bottom:var(--space-2)}.comparison-empty__text{font-size:var(--text-base);color:var(--color-text-secondary);margin-bottom:var(--space-6)}.comparison-limit{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-4);background:var(--color-warning-light);border-left:4px solid var(--color-warning);border-radius:var(--radius-md);margin-bottom:var(--space-4)}.comparison-limit__icon{width:24px;height:24px;color:var(--color-warning);flex-shrink:0}.comparison-limit__text{font-size:var(--text-sm);color:var(--color-text-primary)}.comparison-limit__text strong{font-weight:var(--weight-bold)}@media (max-width:1024px){.comparison-modal__container{max-width:100%;max-height:100vh;border-radius:0}.comparison-table__header-cell{min-width:150px}.comparison-table__product-image{width:100px;height:100px}}@media (max-width:640px){.comparison-bar__content{padding:var(--space-3) var(--space-4);gap:var(--space-2)}.comparison-bar__info{flex-direction:column;align-items:flex-start;gap:var(--space-1)}.comparison-bar__text{font-size:var(--text-sm)}.comparison-bar__products{gap:var(--space-1)}.comparison-bar__product{width:48px;height:48px}.comparison-bar__actions{flex-direction:column;gap:var(--space-2)}.comparison-bar__compare-btn,.comparison-bar__clear-btn{padding:var(--space-2) var(--space-4);font-size:var(--text-sm)}.comparison-modal{padding:0}.comparison-table__header-cell{min-width:120px;padding:var(--space-3)}.comparison-table__header-cell:first-child{min-width:100px;max-width:100px;width:100px}.comparison-table__product-image{width:80px;height:80px}.comparison-table__product-title{font-size:var(--text-sm)}.comparison-table__product-price{font-size:var(--text-lg)}.comparison-table__label-cell,.comparison-table__value-cell{padding:var(--space-3);font-size:var(--text-sm)}.comparison-modal__footer{flex-direction:column}}.comparison-bar__compare-btn:focus-visible,.comparison-bar__clear-btn:focus-visible,.comparison-modal__close:focus-visible{outline:3px solid var(--color-primary);outline-offset:2px}@media (prefers-reduced-motion:reduce){.comparison-bar,.comparison-modal,.comparison-modal__container{transition:none}}@media print{.comparison-bar,.comparison-modal__header,.comparison-modal__footer,.comparison-table__product-remove{display:none}.comparison-modal{position:static;opacity:1}.comparison-modal__overlay{display:none}.comparison-modal__container{max-height:none;box-shadow:none;border:1px solid var(--color-border)}}